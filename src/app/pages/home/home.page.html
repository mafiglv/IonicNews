<ion-header class="header">
  <ion-toolbar>
    <ion-title>Conversor de Moedas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="content">
  <div class="intro">
    <h2>Conversor de Moedas</h2>
    <p>
      Verifique taxas em tempo real, defina alertas de taxas, receba notificações e muito mais.
    </p>
  </div>

  <div class="card">
    <ion-item lines="none" class="input-item">
      <ion-label position="stacked">Quantia</ion-label>
      <ion-input
        type="number"
        [(ngModel)]="amount"
        placeholder="0.00"
        class="currency-input"
      ></ion-input>
    </ion-item>

    <ion-item lines="none" class="input-item">
      <ion-label position="stacked">Converter de</ion-label>
      <ion-select [(ngModel)]="fromCurrency" interface="popover">
        <ion-select-option *ngFor="let c of availableCurrencies" [value]="c.code">
          {{ c.emoji }} {{ c.label }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <div class="swap-button-container">
      <ion-button shape="round" fill="clear" (click)="swapCurrencies()">
        <ion-icon name="swap-vertical-outline"></ion-icon>
      </ion-button>
    </div>

    <ion-item lines="none" class="input-item">
      <ion-label position="stacked">Para</ion-label>
      <ion-select [(ngModel)]="toCurrency" interface="popover">
        <ion-select-option *ngFor="let c of availableCurrencies" [value]="c.code">
          {{ c.emoji }} {{ c.label }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-button expand="block" (click)="convert()">
      <ion-icon name="sync-outline" slot="start"></ion-icon>
      Converter
    </ion-button>

    <div class="result" *ngIf="result !== null">
      <h3>Resultado da Conversão</h3>
      <p>
        <strong>De:</strong> {{ fromCurrency }}<br />
        <strong>Para:</strong> {{ toCurrency }}<br />
        <strong>Valor:</strong> {{ amount | number: '1.2-2' }}<br />
        <strong>Resultado:</strong> {{ result | number: '1.4-4' }}
      </p>
      <p class="last-update"><strong>Data da Cotação:</strong> {{ lastUpdate }}</p>
    </div>

    <div class="error" *ngIf="error">
      <ion-icon name="alert-circle-outline"></ion-icon>
      {{ error }}
    </div>
  </div>
</ion-content>
